# Java Grep App

# Introduction
The Java grep application is an application that will allow a user to search for matching strings in a designated file directory. This function behaves similar to the Linux Grep command. This application has the added benefit of being platform dependent due to the nature of Java's bytecode. This allows for any end user regardless of their system being able to filter and search for their desired string. The application was dockerized as to contain all the essential tools The application was first implemented using Java and the utils library. This implementation was improved in the second implementation by adding support for Stream API and Lambda functions. The code was testing using Intellij's run configurations as well as using the Log4j logger.

# Quick Start
1. Running with JAR through cloning Git Repo by targetting classpath and class files
      ``` bash
      #Make sure you are in grep directory
      cd core_java/grep
      mvn clean compile package
      java -classpath target/classes ca.jrvs.apps.grep.JavaGrepImp `insert_pattern` `data_path` `output_path`
      ```
     
2. Running with JAR file generated by Maven
     ``` bash
      cd core_java/grep
      mvn clean package
      java -cp target/grep-1.0-SNAPSHOT.jar ca.jrvs.apps.grep.JavaGrepImp `insert_pattern` `data_path` `output_path`
     ```
3. Running with Docker using container
    ``` bash
     docker pull ajithanurutheran/grep
     docker run --rm \
     -v `pwd`/data:/data -v `pwd`/log:/log \


     #Example Docker Execution using three arguements
     #$User/grep [insert_pattern] [data_path] [output_path]
    ```

# Implementation
The Java grep application was designed in order to replicate the grep function in Linux. The user will submit a directory to apply the filter pattern towards. The program will filter through every sub-directory and file and find instances where the pattern matches. 

``` bash
 matchedLines[]
 for file in listFilesRecursively(rootDir)
    for line in readFile(file)
        if containsPattern(line)
            matchedLines.add(line)
writeToFile(matchedLines)
```
# Performance Issue
Due to the variable size of the directory we traverse and amount of matching lines returned from the filter, this application faces severe memory issues due to the limited JVM heap size. When working with small directories and files, this application works seamlessly. A temporary fix to this problem would include increasing the JVM's heap size when executing the command. The optimal fix was employed in the second iteration by implementing Stream API and lambda functions. This allowed us to bypass the memory and performance problems when dealing with a large amount of data.
# Test
Testing was performed for this project by using Intellij run configurations. We were able to predefine the arguements and had tested both implementations. Errors present were debugged using logger instances and break points to identify and handle errors. Many regex patterns and file paths were tested to ensure edge cases.
# Deployment
The program was deployed using Docker using packaged jar delivered by Maven
      -Docker (Utilized for creating docker image and docker file)
      -GitHub[Optional] (Used for cloning JAR from repository)
# Improvements
- **Obtaining file path of filtered instances:** Any filtered lines we receive should also have their directory added in case the end user wishes to explore these files more indepth.
- **JUnit Testing:** Testing the application using a JUnit testing in order to have edge and branch coverage.
- **Optimize methods to reduce impact on heap memory**: Optimize the data structures or functions used in order to reduce the impact they have on our overall heap memory.


